{"version":3,"sources":["webpack://webpack_playground/webpack/runtime/chunk loaded","webpack://webpack_playground/./src/ts/class/base.ts","webpack://webpack_playground/./src/ts/class/camera.ts","webpack://webpack_playground/./src/ts/class/env.ts","webpack://webpack_playground/./src/ts/class/playground.ts","webpack://webpack_playground/./src/ts/class/renderer.ts","webpack://webpack_playground/./src/ts/dom/chat.ts","webpack://webpack_playground/./src/ts/dom/clock.ts","webpack://webpack_playground/./src/ts/dom/index.ts","webpack://webpack_playground/./src/ts/dom/music.ts","webpack://webpack_playground/./src/ts/dom/space-inavader.ts","webpack://webpack_playground/./src/ts/main.ts","webpack://webpack_playground/./src/ts/mesh/cube.ts","webpack://webpack_playground/./src/ts/mesh/dom-cube.ts","webpack://webpack_playground/./src/ts/mesh/index.ts","webpack://webpack_playground/./src/ts/resource/index.ts","webpack://webpack_playground/./src/ts/resource/textures.ts","webpack://webpack_playground/./src/ts/util/event-emitter.ts","webpack://webpack_playground/./src/ts/util/function.ts","webpack://webpack_playground/./src/ts/util/index.ts","webpack://webpack_playground/./src/ts/util/service.ts","webpack://webpack_playground/./src/ts/util/sizer.ts","webpack://webpack_playground/./src/ts/util/soundcloud-service.ts","webpack://webpack_playground/./src/ts/util/ticker.ts","webpack://webpack_playground/./src/ts/util/waveform.ts","webpack://webpack_playground/./src/ts/util/widget.ts","webpack://webpack_playground/webpack/bootstrap","webpack://webpack_playground/webpack/runtime/define property getters","webpack://webpack_playground/webpack/runtime/global","webpack://webpack_playground/webpack/runtime/hasOwnProperty shorthand","webpack://webpack_playground/webpack/runtime/make namespace object","webpack://webpack_playground/webpack/runtime/node module decorator","webpack://webpack_playground/webpack/runtime/jsonp chunk loading","webpack://webpack_playground/webpack/startup"],"names":["deferred","__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","Object","defineProperty","exports","Base","renderer_1","require","camera_1","util_1","three_1","resource_1","playground_1","rotationLocked","loginStatus","canvas","domCanvas","domBundle","sizer","Sizer","scene","Scene","scene2","ticker","Ticker","camera","Camera","renderer","Renderer","playground","Playground","touched","touchedReactDelay","initResizeMechanic","initTickMechanic","initTouchMechanic","prototype","_this","on","resize","clock","delta","getDelta","update","timeout","startLocation","Vector2","endLocation","cbStart","x","clientX","clientY","cbEnd","delay","distanceTo","clearTimeout","setTimeout","addEventListener","setRotationLock","status","getRotationLockStatus","setLoginStatus","getLoginStatus","getResources","_a","_b","resources","OrbitControls_js_1","base","bestPoint","Vector3","minimunDrawbackAngle","Math","PI","setInstance","setControls","PerspectiveCamera","width","height","position","set","z","instance","add","controls","OrbitControls","enableDamping","enableZoom","enablePan","aspect","updateProjectionMatrix","Env","setLights","setAmbientLight","setDirectionalLight","setBackground","directionalLight","DirectionalLight","castShadow","shadow","mapSize","normalBias","ambientLight","AmbientLight","background","gradientCubeTexture","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","String","__","constructor","create","env_1","mesh_1","dom_cube_1","_super","ready","init","env","cube","Cube","domCube","DomCube","trigger","showChat","chat","showScreen","showMusic","EventEmitter","CSS3DRenderer_1","setInstances","WebGLRenderer","antialias","preserveDrawingBuffer","physicallyCorrectLights","toneMappingExposure","shadowMap","enabled","type","PCFSoftShadowMap","setClearColor","instance2","CSS3DRenderer","element","sizing","setSize","setPixelRatio","pixelRatio","render","Chat","function_1","offset","pos","normal","cNormal","cPos","m4","Matrix4","setElement","querySelector","chatMainInner","loginGuide","guestList","loginGuideBtn","object","CSS3DObject","scale","bindElementEvents","target","hideClass","classList","remove","filter","val","forEach","unchosen","refreshGuestList","list","containerEle","innerHTML","total","guest","index","item","concat","username","setGuestNumber","data","updateOcclude","Clock","rotation","initClock","updateClock","now","Date","sec","getSeconds","min","getMinutes","hou","getHours","mo","getMonth","dy","getDate","yr","getFullYear","tags","corr","pad","i","toString","timer","setInterval","bind","__createBinding","o","m","k","k2","undefined","enumerable","get","__exportStar","Music","widget_1","waveform_1","axios","defaultSource","playStatus","bindPlayerUIEvent","playButton","banner","title","artist","permaLink","waveform","waveformRect","getBoundingClientRect","widget","pause","play","waveformInstance","href","currentTarget","window","open","percent","playProgress","soundObject","picUrl","artwork_url","replace","src","publisher_metadata","permalink_url","url","waveform_url","res","samples","map","contrastOffset","Waveform","container","trackLength","reflection","waveWidth","interpolate","fadeOpacity","bindResize","EVENT_CLICK","porpotion","seek","duration","catch","err","load","SpaceInvader","cvs","dcvs","base_1","socket_io_client_1","lodash_1","service_1","Main","wrapper","document","chatBlock","rotationLock","chatBlockActive","path","initChatUI","initMusicUI","toggleRotationLockFromUI","setRotationLockFromUI","toggler","loginBtn","sendBtn","logoutBtn","showTarget","myName","trim","socket","io","initChatSocket","emit","doAlert","sendMessage","doConfirm","evt","keyCode","stopRotationTimeOut","searchMusic","playViaIframe","checkIn","userCount","users","checkOut","showMessage","loginWrapper","inputEle","message","html","ele","createElementFromHTML","containerMain","containerCube","appendChild","cloneNode","parentElement","scrollTop","scrollHeight","gsap_1","setModel","createRoundedBoxGeo","depth","radius0","smoothness","shape","Shape","eps","radius","faceRadius","absarc","geometry","ExtrudeGeometry","bevelEnabled","bevelSegments","steps","bevelSize","bevelThickness","curveSegments","center","geo","mat","MeshMatcapMaterial","matcap","cubeMatcap","group","Group","mesh","Mesh","cubeLikeConfig","initialScale","initialRotation","doAnimation","default","to","startAnimationInnerRotationConfig","startAnimationInnerScalingConfig","onStart","onComplete","showChatAnimationInnerRotationConfig","angle","getTargetAngle","showMusicAnimationInnerRotationConfig","updateParameter","dom_1","space_inavader_1","clock_1","music_1","groupOuter","groupInner","music","spaceInvader","textures_1","textureLoader","TextureLoader","cubeTextureLoader","CubeTextureLoader","getTexture","source","rej","texture","name","content","getCubeTexture","paths","error","console","log","promiseArr","_i","textureSources_1","textureSources","textureSource","all","values","sourceObj","callbacks","_names","callback","warn","resolveNames","_name","resolveName","namespace","off","keys","_args","finalResult","args","nameArray","names","split","newName","parts","original","faceType","box","copy","applyMatrix3","normalMatrix","applyMatrix4","multiplyMatrices","matrixWorldInverse","matrixWorld","negate","dot","style","visibility","l","r","showChatAnimationOuterRotationConfig","htmlString","div","createElement","firstChild","remain","minor","major","soundCloudService","SoundCloudService","clientId","template","cusRes","frame","activeClass","prm","confirm","cb","preventDefault","closest","getAttribute","removeEventListener","chosenId","actionTarget","action","keyword","searchResult","embedableTracks","htmlBundle","search","q","limit","collection","embeddable_by","album_title","id","join","trackId","devicePixelRatio","initSizingMechanic","rect","config","params","client_id","urlParameters","entries","event_emitter_1","requestAnimationFrame","tick","EVENT_RESIZED","EVENT_HOVER","EVENT_READY","REFLECTION_ACTIVE","REFLECTION","GUTTER_SELECTED","GUTTER_ACTIVE","GUTTER","WAVE_SELECTED","WAVE_ACTIVE","WAVE","WAVE_FOCUS","DEFAULT_MIN_OPACITY","DEFAULT_MAX_OPACITY","options","outerColor","wavesCollection","gutterWidth","waveOffset","reflectionHeight","waveHeight","colors","active","clickPercent","selected","isPlaying","hasStartedPlaying","assign","spawnCanvas","clientWidth","clientHeight","parseInt","context","isNaN","Error","initialize","getContext","updateHeight","setColors","bindEventHandlers","cache","redraw","bindContainerResize","fireEvent","round","setColor","setGradient","color","colorObjs","gradient","createLinearGradient","addColorStop","getMouseClickPosition","left","right","top","bottom","arguments","onMouseDown","onMouseOver","onMouseOut","mousePosTrackTime","waveClicked","isPaused","getWaveClicked","getMousePosTrackTime","calcPercent","iContWidth","setPlaying","setPaused","perct","iActive","dNext","gutterX","j","len","ref","results","xPos","yPos","clear","fillStyle","fillRect","max","abs","clearRect","setData","getData","setDataInterpolated","interpolateArray","setDataCropped","expandArray","linearInterpolate","before","after","atPoint","defaultValue","newData","slice","fitCount","springFactor","tmp","floor","ceil","putDataIntoWaveBlock","fAbsValue","fWavePoint","iWaveBlock","iWaveCount","newDataBlocks","sum","SoundcloudWidget","iframeEle","SCWidget","events","PLAY","PLAY_PROGRESS","ev","progressPercent","relativePosition","PAUSE","SEEK","toggle","millisecond","seekTo","auto_play","getCurrentSound","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","loaded","__webpack_modules__","O","chunkIds","fn","priority","notFulfilled","Infinity","every","key","splice","definition","globalThis","Function","obj","prop","toStringTag","nmd","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"mappings":"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","file":"js/main.47b48c3089eb90f375f8.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Base = void 0;\r\nvar renderer_1 = require(\"./renderer\");\r\nvar camera_1 = require(\"./camera\");\r\nvar util_1 = require(\"../util\");\r\nvar three_1 = require(\"three\");\r\nvar resource_1 = require(\"../resource\");\r\nvar playground_1 = require(\"./playground\");\r\nvar rotationLocked = false;\r\nvar loginStatus = false;\r\nvar Base = /** @class */ (function () {\r\n    function Base(canvas, domCanvas, domBundle) {\r\n        this.canvas = canvas;\r\n        this.domCanvas = domCanvas;\r\n        this.domBundle = domBundle;\r\n        this.sizer = new util_1.Sizer(this.canvas);\r\n        this.scene = new three_1.Scene();\r\n        this.scene2 = new three_1.Scene();\r\n        this.ticker = new util_1.Ticker();\r\n        this.camera = new camera_1.Camera(this);\r\n        this.renderer = new renderer_1.Renderer(this);\r\n        this.playground = new playground_1.Playground(this);\r\n        this.touched = false;\r\n        this.touchedReactDelay = 2000;\r\n        this.initResizeMechanic();\r\n        this.initTickMechanic();\r\n        this.initTouchMechanic();\r\n    }\r\n    Base.prototype.initResizeMechanic = function () {\r\n        var _this = this;\r\n        this.sizer.on('resize', function () {\r\n            _this.renderer.resize();\r\n            _this.camera.resize();\r\n        });\r\n    };\r\n    Base.prototype.initTickMechanic = function () {\r\n        var _this = this;\r\n        this.ticker.on('tick', function (clock) {\r\n            var delta = clock.getDelta();\r\n            _this.renderer.update();\r\n            _this.camera.update();\r\n            _this.playground.update(delta);\r\n        });\r\n    };\r\n    Base.prototype.initTouchMechanic = function () {\r\n        var _this = this;\r\n        var startLocation = new three_1.Vector2();\r\n        var endLocation = new three_1.Vector2();\r\n        var timeout;\r\n        var cbStart = function (e) {\r\n            startLocation.x = e.clientX;\r\n            startLocation.y = e.clientY;\r\n            _this.touched = true;\r\n        };\r\n        var cbEnd = function (e) {\r\n            endLocation.x = e.clientX;\r\n            endLocation.y = e.clientY;\r\n            var delay = startLocation.distanceTo(endLocation) > 5 ? _this.touchedReactDelay : 0;\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(function () {\r\n                _this.touched = false;\r\n            }, delay);\r\n        };\r\n        this.domCanvas.addEventListener('mousedown', cbStart);\r\n        this.domCanvas.addEventListener('touchstart', cbStart);\r\n        this.domCanvas.addEventListener('mouseup', cbEnd);\r\n        this.domCanvas.addEventListener('touchend', cbEnd);\r\n        this.domCanvas.addEventListener('mouseleave', cbEnd);\r\n    };\r\n    Base.prototype.setRotationLock = function (status) {\r\n        rotationLocked = status;\r\n    };\r\n    Base.prototype.getRotationLockStatus = function () {\r\n        return rotationLocked;\r\n    };\r\n    Base.prototype.setLoginStatus = function (status) {\r\n        loginStatus = status;\r\n    };\r\n    Base.prototype.getLoginStatus = function () {\r\n        return loginStatus;\r\n    };\r\n    Base.prototype.getResources = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = this;\r\n                        return [4 /*yield*/, (0, resource_1.getResources)()];\r\n                    case 1:\r\n                        _a.resources = _b.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return Base;\r\n}());\r\nexports.Base = Base;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Camera = void 0;\r\nvar three_1 = require(\"three\");\r\nvar OrbitControls_js_1 = require(\"three/examples/jsm/controls/OrbitControls.js\");\r\nvar Camera = /** @class */ (function () {\r\n    function Camera(base) {\r\n        this.base = base;\r\n        this.bestPoint = new three_1.Vector3(-8, 1, 8);\r\n        this.minimunDrawbackAngle = Math.PI / 3;\r\n        this.sizer = this.base.sizer;\r\n        this.canvas = this.base.domCanvas;\r\n        this.scene = this.base.scene;\r\n        this.setInstance();\r\n        this.setControls();\r\n    }\r\n    Camera.prototype.setInstance = function () {\r\n        var camera = new three_1.PerspectiveCamera(35, this.sizer.width / this.sizer.height, 0.1, 100);\r\n        camera.position.set(this.bestPoint.x, this.bestPoint.y, this.bestPoint.z);\r\n        this.instance = camera;\r\n        this.scene.add(this.instance);\r\n        // //@ts-ignore\r\n        // window.cm = camera;\r\n    };\r\n    Camera.prototype.setControls = function () {\r\n        this.controls = new OrbitControls_js_1.OrbitControls(this.instance, this.canvas);\r\n        this.controls.enableDamping = true;\r\n        this.controls.enableZoom = false;\r\n        this.controls.enablePan = false;\r\n    };\r\n    Camera.prototype.resize = function () {\r\n        this.instance.aspect = this.sizer.width / this.sizer.height;\r\n        this.instance.updateProjectionMatrix();\r\n    };\r\n    Camera.prototype.update = function () {\r\n        this.controls.update();\r\n    };\r\n    return Camera;\r\n}());\r\nexports.Camera = Camera;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Env = void 0;\r\nvar three_1 = require(\"three\");\r\nvar Env = /** @class */ (function () {\r\n    function Env(base) {\r\n        this.base = base;\r\n        this.setLights();\r\n    }\r\n    Env.prototype.setLights = function () {\r\n        this.setAmbientLight();\r\n        this.setDirectionalLight();\r\n        this.setBackground();\r\n    };\r\n    Env.prototype.setDirectionalLight = function () {\r\n        this.directionalLight = new three_1.DirectionalLight(0xffffff, 1);\r\n        this.directionalLight.castShadow = true;\r\n        this.directionalLight.shadow.mapSize.set(2048, 2048);\r\n        this.directionalLight.shadow.normalBias = 0.05;\r\n        this.directionalLight.position.set(3.5, 2, -1.25);\r\n        this.base.scene.add(this.directionalLight);\r\n    };\r\n    Env.prototype.setAmbientLight = function () {\r\n        this.ambientLight = new three_1.AmbientLight(0xffffff, 1);\r\n        this.base.scene.add(this.ambientLight);\r\n    };\r\n    Env.prototype.setBackground = function () {\r\n        this.base.scene.background = this.base.resources.gradientCubeTexture;\r\n    };\r\n    Env.prototype.update = function (delta) {\r\n    };\r\n    return Env;\r\n}());\r\nexports.Env = Env;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Playground = void 0;\r\nvar env_1 = require(\"./env\");\r\nvar mesh_1 = require(\"../mesh\");\r\nvar dom_cube_1 = require(\"../mesh/dom-cube\");\r\nvar util_1 = require(\"../util\");\r\nvar Playground = /** @class */ (function (_super) {\r\n    __extends(Playground, _super);\r\n    function Playground(base) {\r\n        var _this = _super.call(this) || this;\r\n        _this.base = base;\r\n        _this.ready = false;\r\n        _this.init();\r\n        return _this;\r\n    }\r\n    Playground.prototype.init = function () {\r\n        var _this = this;\r\n        this.base.getResources().then(function () {\r\n            _this.env = new env_1.Env(_this.base);\r\n            _this.cube = new mesh_1.Cube(_this.base);\r\n            _this.domCube = new dom_cube_1.DomCube(_this.base);\r\n            _this.ready = true;\r\n            _this.trigger('ready');\r\n        });\r\n    };\r\n    Playground.prototype.showChat = function () {\r\n        this.cube.showChat();\r\n        this.domCube.showChat();\r\n        if (this.base.getLoginStatus()) {\r\n            this.domCube.chat.showScreen('guestList');\r\n        }\r\n        else {\r\n            this.domCube.chat.showScreen('loginGuide');\r\n        }\r\n    };\r\n    Playground.prototype.showMusic = function () {\r\n        this.cube.showMusic();\r\n        this.domCube.showMusic();\r\n    };\r\n    Playground.prototype.update = function (delta) {\r\n        if (this.ready) {\r\n            this.env.update(delta);\r\n            this.cube.update(delta);\r\n            this.domCube.update(delta);\r\n        }\r\n    };\r\n    return Playground;\r\n}(util_1.EventEmitter));\r\nexports.Playground = Playground;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Renderer = void 0;\r\nvar three_1 = require(\"three\");\r\nvar CSS3DRenderer_1 = require(\"three/examples/jsm/renderers/CSS3DRenderer\");\r\nvar Renderer = /** @class */ (function () {\r\n    function Renderer(base) {\r\n        this.base = base;\r\n        this.sizer = this.base.sizer;\r\n        this.canvas = this.base.canvas;\r\n        this.domCanvas = this.base.domCanvas;\r\n        this.scene = this.base.scene;\r\n        this.scene2 = this.base.scene2;\r\n        this.camera = this.base.camera;\r\n        this.setInstances();\r\n    }\r\n    Renderer.prototype.setInstances = function () {\r\n        //instance\r\n        this.instance = new three_1.WebGLRenderer({\r\n            canvas: this.canvas,\r\n            antialias: true,\r\n            preserveDrawingBuffer: true\r\n        });\r\n        this.instance.physicallyCorrectLights = true;\r\n        this.instance.toneMappingExposure = 1.75;\r\n        this.instance.shadowMap.enabled = true;\r\n        this.instance.shadowMap.type = three_1.PCFSoftShadowMap;\r\n        this.instance.setClearColor(0xffffff);\r\n        //instance2\r\n        this.instance2 = new CSS3DRenderer_1.CSS3DRenderer({\r\n            element: this.domCanvas\r\n        });\r\n        this.sizing();\r\n    };\r\n    Renderer.prototype.resize = function () {\r\n        this.sizing();\r\n    };\r\n    Renderer.prototype.sizing = function () {\r\n        //instance\r\n        this.instance.setSize(this.sizer.width, this.sizer.height);\r\n        this.instance.setPixelRatio(this.sizer.pixelRatio);\r\n        //instance2\r\n        this.instance2.setSize(this.sizer.width, this.sizer.height);\r\n    };\r\n    Renderer.prototype.update = function () {\r\n        this.instance.render(this.scene, this.camera.instance);\r\n        this.instance2.render(this.scene2, this.camera.instance);\r\n    };\r\n    return Renderer;\r\n}());\r\nexports.Renderer = Renderer;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Chat = void 0;\r\nvar three_1 = require(\"three\");\r\nvar CSS3DRenderer_1 = require(\"three/examples/jsm/renderers/CSS3DRenderer\");\r\nvar util_1 = require(\"../util\");\r\nvar function_1 = require(\"../util/function\");\r\nvar Chat = /** @class */ (function (_super) {\r\n    __extends(Chat, _super);\r\n    function Chat(base) {\r\n        var _this = _super.call(this) || this;\r\n        _this.base = base;\r\n        _this.offset = 1.7;\r\n        _this.pos = new three_1.Vector3(0, 0, _this.offset);\r\n        _this.normal = new three_1.Vector3(0, 0, 1);\r\n        _this.cNormal = new three_1.Vector3();\r\n        _this.cPos = new three_1.Vector3();\r\n        _this.m4 = new three_1.Matrix4();\r\n        _this.setElement();\r\n        return _this;\r\n    }\r\n    Chat.prototype.setElement = function () {\r\n        this.element = this.base.domBundle.querySelector('#chat-main-cube');\r\n        this.chatMainInner = this.element.querySelector('#chat-main-inner');\r\n        this.loginGuide = this.element.querySelector('#login-guide');\r\n        this.guestList = this.element.querySelector('#guest-list');\r\n        this.loginGuideBtn = this.element.querySelector('#login-guide-button');\r\n        this.object = new CSS3DRenderer_1.CSS3DObject(this.element);\r\n        this.object.position.set(0, 0, this.offset);\r\n        this.object.scale.set(1 / 160, 1 / 160, 1);\r\n        this.bindElementEvents();\r\n    };\r\n    Chat.prototype.showScreen = function (target) {\r\n        var _this = this;\r\n        var hideClass = 'chat-main__inner--hide';\r\n        var targets = ['chatMainInner', 'loginGuide', 'guestList'];\r\n        this[target].classList.remove(hideClass);\r\n        targets.filter(function (val) { return val !== target; }).forEach(function (unchosen) {\r\n            var _a;\r\n            (_a = _this[unchosen]) === null || _a === void 0 ? void 0 : _a.classList.add(hideClass);\r\n        });\r\n    };\r\n    Chat.prototype.refreshGuestList = function (list) {\r\n        var containerEle = this.guestList.querySelector('#guest-list-container');\r\n        containerEle.innerHTML = '';\r\n        var total = '';\r\n        var transitionGap = 200;\r\n        list.forEach(function (guest, index) {\r\n            var item = \"\\n           <li class=\\\"guest-list__li guest\\\" style=\\\"animation-delay:\".concat(transitionGap * index, \"ms\\\">\\n                <div class=\\\"guest__name\\\">\").concat(guest.username, \"</div>\\n            </li>\\n            \");\r\n            total += item;\r\n        });\r\n        containerEle.innerHTML = total;\r\n    };\r\n    Chat.prototype.bindElementEvents = function () {\r\n        var _this = this;\r\n        this.loginGuideBtn.addEventListener('pointerdown', function () {\r\n            _this.trigger('cube-login-button-click');\r\n        });\r\n    };\r\n    Chat.prototype.setGuestNumber = function (data) {\r\n        var containerEle = this.guestList.querySelector('#guest-number');\r\n        containerEle.innerHTML = \"NOW ONLINE: \".concat(data);\r\n    };\r\n    Chat.prototype.update = function () {\r\n        (0, function_1.updateOcclude)(this);\r\n    };\r\n    return Chat;\r\n}(util_1.EventEmitter));\r\nexports.Chat = Chat;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Clock = void 0;\r\nvar three_1 = require(\"three\");\r\nvar CSS3DRenderer_1 = require(\"three/examples/jsm/renderers/CSS3DRenderer\");\r\nvar function_1 = require(\"../util/function\");\r\nvar Clock = /** @class */ (function () {\r\n    function Clock(base) {\r\n        this.base = base;\r\n        this.offset = 1.7;\r\n        this.pos = new three_1.Vector3(-this.offset, 0, 0);\r\n        this.normal = new three_1.Vector3(-1, 0, 0);\r\n        this.cNormal = new three_1.Vector3();\r\n        this.cPos = new three_1.Vector3();\r\n        this.m4 = new three_1.Matrix4();\r\n        this.setElement();\r\n    }\r\n    Clock.prototype.setElement = function () {\r\n        this.element = this.base.domBundle.querySelector('#clock');\r\n        this.object = new CSS3DRenderer_1.CSS3DObject(this.element);\r\n        this.object.position.set(-this.offset, 0, 0);\r\n        this.object.rotation.y = -Math.PI / 2;\r\n        this.object.scale.set(1 / 160, 1 / 160, 1);\r\n        this.initClock();\r\n    };\r\n    Clock.prototype.updateClock = function () {\r\n        var now = new Date();\r\n        var sec = now.getSeconds(), min = now.getMinutes(), hou = now.getHours(), mo = now.getMonth(), dy = now.getDate(), yr = now.getFullYear();\r\n        var months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n        var tags = [\"mon\", \"d\", \"y\", \"h\", \"m\", \"s\"], corr = [months[mo], dy, yr, (0, function_1.pad)(hou, 2), (0, function_1.pad)(min, 2), (0, function_1.pad)(sec, 2)];\r\n        for (var i = 0; i < tags.length; i++)\r\n            this.element.querySelector(\"#\".concat(tags[i])).innerHTML = corr[i].toString();\r\n    };\r\n    Clock.prototype.initClock = function () {\r\n        this.updateClock(); //\r\n        this.timer = setInterval(this.updateClock.bind(this), 1000);\r\n    };\r\n    Clock.prototype.update = function () {\r\n        (0, function_1.updateOcclude)(this);\r\n    };\r\n    return Clock;\r\n}());\r\nexports.Clock = Clock;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./chat\"), exports);\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Music = void 0;\r\nvar three_1 = require(\"three\");\r\nvar CSS3DRenderer_1 = require(\"three/examples/jsm/renderers/CSS3DRenderer\");\r\nvar function_1 = require(\"../util/function\");\r\nvar widget_1 = require(\"../util/widget\");\r\nvar waveform_1 = require(\"../util/waveform\");\r\nvar axios = require('axios');\r\nvar Music = /** @class */ (function () {\r\n    function Music(base) {\r\n        this.base = base;\r\n        this.offset = 1.7;\r\n        this.pos = new three_1.Vector3(this.offset, 0, 0);\r\n        this.normal = new three_1.Vector3(1, 0, 0);\r\n        this.cNormal = new three_1.Vector3();\r\n        this.cPos = new three_1.Vector3();\r\n        this.m4 = new three_1.Matrix4();\r\n        this.defaultSource = 'https%3A//api.soundcloud.com/tracks/327386009';\r\n        this.playStatus = false;\r\n        this.setElement();\r\n    }\r\n    Music.prototype.setElement = function () {\r\n        this.element = this.base.domBundle.querySelector('#music-player');\r\n        this.object = new CSS3DRenderer_1.CSS3DObject(this.element);\r\n        this.object.position.set(this.offset, 0, 0);\r\n        this.object.rotation.y = Math.PI / 2;\r\n        this.object.scale.set(1 / 160, 1 / 160, 1);\r\n        this.init();\r\n    };\r\n    Music.prototype.bindPlayerUIEvent = function () {\r\n        var _this = this;\r\n        var playButton = this.element.querySelector('#music-player-button');\r\n        var banner = this.element.querySelector('#music-player-img img');\r\n        var title = this.element.querySelector('#music-player-title span');\r\n        var artist = this.element.querySelector('#music-player-artist span');\r\n        var permaLink = this.element.querySelector('#music-player-perma-link');\r\n        var waveform = this.element.querySelector('#music-player-waveform');\r\n        var waveformRect = waveform.getBoundingClientRect();\r\n        var contrastFactor = 5;\r\n        var contrastOffset = 128;\r\n        playButton.addEventListener('pointerdown', function () {\r\n            if (!_this.playStatus) {\r\n                widget_1.widget.play();\r\n            }\r\n            else {\r\n                widget_1.widget.pause();\r\n            }\r\n            _this.playStatus = !_this.playStatus;\r\n        });\r\n        widget_1.widget.on('play', function () {\r\n            playButton.classList.add('music-player__btn--pause');\r\n            _this.playStatus = true;\r\n        });\r\n        widget_1.widget.on('pause', function () {\r\n            if (!_this.waveformInstance)\r\n                return;\r\n            playButton.classList.remove('music-player__btn--pause');\r\n            _this.playStatus = false;\r\n            _this.waveformInstance.pause();\r\n        });\r\n        permaLink.addEventListener('pointerdown', function (e) {\r\n            var href = e.currentTarget.href;\r\n            window.open(href, '_blank');\r\n        });\r\n        widget_1.widget.on('play-progress', function (percent) {\r\n            if (!_this.waveformInstance)\r\n                return;\r\n            _this.waveformInstance.playProgress(percent);\r\n        });\r\n        widget_1.widget.on('load', function (soundObject) {\r\n            var _a;\r\n            var picUrl = '';\r\n            if (!!soundObject.artwork_url) {\r\n                picUrl = soundObject.artwork_url.replace(/(.*)(-large)(\\.[a-z0-9]{3}[a-z0-9]?)$/, '$1-t500x500$3');\r\n            }\r\n            else {\r\n                picUrl = './assets/images/not-found.jpg';\r\n            }\r\n            //image\r\n            banner.src = picUrl;\r\n            //title\r\n            title.innerHTML = soundObject === null || soundObject === void 0 ? void 0 : soundObject.title;\r\n            //artist\r\n            artist.innerHTML = ((_a = soundObject === null || soundObject === void 0 ? void 0 : soundObject.publisher_metadata) === null || _a === void 0 ? void 0 : _a.artist) || 'Unknown';\r\n            //soundcloud link\r\n            permaLink.href = soundObject === null || soundObject === void 0 ? void 0 : soundObject.permalink_url;\r\n            //get waveform data and render waveform diagram\r\n            axios({\r\n                url: soundObject.waveform_url\r\n            })\r\n                .then(function (res) {\r\n                waveform.innerHTML = '';\r\n                // some contrast calculation \r\n                var data = res.data.samples.map(function (val) { return ((val - contrastOffset) / 100) * contrastFactor + contrastOffset / 100; });\r\n                _this.waveformInstance = new waveform_1.Waveform({\r\n                    container: waveform,\r\n                    data: data,\r\n                    width: waveformRect.width,\r\n                    height: waveformRect.height,\r\n                    trackLength: data.length,\r\n                    reflection: 0.3,\r\n                    waveWidth: 2,\r\n                    interpolate: true,\r\n                    fadeOpacity: 0.888,\r\n                    bindResize: false // to make the waveform bind to the resize event of the window!!\r\n                });\r\n                _this.waveformInstance.on(waveform_1.EVENT_CLICK, function (percent) {\r\n                    var porpotion = percent / 100;\r\n                    widget_1.widget.seek(porpotion * (soundObject === null || soundObject === void 0 ? void 0 : soundObject.duration));\r\n                    _this.waveformInstance.playProgress(percent);\r\n                });\r\n            })\r\n                .catch(function (err) { throw err; });\r\n        });\r\n    };\r\n    Music.prototype.init = function () {\r\n        this.bindPlayerUIEvent();\r\n        widget_1.widget.load(this.defaultSource);\r\n    };\r\n    Music.prototype.update = function () {\r\n        (0, function_1.updateOcclude)(this);\r\n    };\r\n    return Music;\r\n}());\r\nexports.Music = Music;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SpaceInvader = void 0;\r\nvar three_1 = require(\"three\");\r\nvar CSS3DRenderer_1 = require(\"three/examples/jsm/renderers/CSS3DRenderer\");\r\nvar function_1 = require(\"../util/function\");\r\nvar SpaceInvader = /** @class */ (function () {\r\n    function SpaceInvader(base) {\r\n        this.base = base;\r\n        this.offset = 1.7;\r\n        this.pos = new three_1.Vector3(0, 0, -this.offset);\r\n        this.normal = new three_1.Vector3(0, 0, -1);\r\n        this.cNormal = new three_1.Vector3();\r\n        this.cPos = new three_1.Vector3();\r\n        this.m4 = new three_1.Matrix4();\r\n        this.setElement();\r\n    }\r\n    SpaceInvader.prototype.setElement = function () {\r\n        this.element = this.base.domBundle.querySelector('#space-invader');\r\n        this.object = new CSS3DRenderer_1.CSS3DObject(this.element);\r\n        this.object.position.set(0, 0, -this.offset);\r\n        this.object.rotation.y = -Math.PI;\r\n        this.object.scale.set(1 / 160, 1 / 160, 1);\r\n    };\r\n    SpaceInvader.prototype.update = function () {\r\n        (0, function_1.updateOcclude)(this);\r\n    };\r\n    return SpaceInvader;\r\n}());\r\nexports.SpaceInvader = SpaceInvader;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar base_1 = require(\"./class/base\");\r\nvar socket_io_client_1 = require(\"socket.io-client\");\r\nvar lodash_1 = require(\"lodash\");\r\nvar function_1 = require(\"./util/function\");\r\nvar service_1 = require(\"./util/service\");\r\nvar Main = /** @class */ (function (_super) {\r\n    __extends(Main, _super);\r\n    // private path = 'http://192.168.1.101:5500';\r\n    function Main(canvas, domCanvas, domBundle) {\r\n        var _this = _super.call(this, canvas, domCanvas, domBundle) || this;\r\n        _this.wrapper = document.querySelector('#wrapper');\r\n        _this.chatBlock = document.querySelector('#chat-block');\r\n        _this.rotationLock = _this.chatBlock.querySelector('#rotation-lock');\r\n        _this.chatBlockActive = false;\r\n        _this.path = 'https://3d-cube-chat.fly.dev';\r\n        _this.initChatUI();\r\n        _this.initMusicUI();\r\n        return _this;\r\n    }\r\n    Main.prototype.toggleRotationLockFromUI = function () {\r\n        var status = this.getRotationLockStatus();\r\n        if (status) {\r\n            this.rotationLock.classList.remove('chat-block__rotation-lock--active');\r\n        }\r\n        else {\r\n            this.rotationLock.classList.add('chat-block__rotation-lock--active');\r\n        }\r\n        this.setRotationLock(!status);\r\n    };\r\n    Main.prototype.setRotationLockFromUI = function (status) {\r\n        if (status) {\r\n            this.rotationLock.classList.add('chat-block__rotation-lock--active');\r\n        }\r\n        else {\r\n            this.rotationLock.classList.remove('chat-block__rotation-lock--active');\r\n        }\r\n        this.setRotationLock(status);\r\n    };\r\n    Main.prototype.initChatUI = function () {\r\n        var _this = this;\r\n        var toggler = this.chatBlock.querySelector('#chat-block-toggler');\r\n        var loginBtn = this.chatBlock.querySelector('#login-button');\r\n        var sendBtn = this.chatBlock.querySelector('#send-message-button');\r\n        var logoutBtn = this.chatBlock.querySelector('#logout-button');\r\n        var panelToggle = function () {\r\n            var showTarget;\r\n            if (_this.chatBlockActive) {\r\n                //\r\n                _this.wrapper.classList.remove('wrapper--active');\r\n                showTarget = _this.getLoginStatus() ? 'chatMainInner' : 'loginGuide';\r\n                _this.setRotationLockFromUI(false);\r\n            }\r\n            else {\r\n                //\r\n                _this.wrapper.classList.add('wrapper--active');\r\n                showTarget = _this.getLoginStatus() ? 'guestList' : 'loginGuide';\r\n                _this.setRotationLockFromUI(true);\r\n                _this.playground.showChat();\r\n            }\r\n            _this.playground.domCube.chat.showScreen(showTarget);\r\n            _this.chatBlockActive = !_this.chatBlockActive;\r\n        };\r\n        var panelSet = function (status) {\r\n            var showTarget;\r\n            if (status == true) {\r\n                //\r\n                _this.wrapper.classList.add('wrapper--active');\r\n                showTarget = _this.getLoginStatus() ? 'guestList' : 'loginGuide';\r\n                if (_this.getLoginStatus()) {\r\n                    _this.setRotationLockFromUI(true);\r\n                }\r\n                _this.playground.showChat();\r\n            }\r\n            else {\r\n                //\r\n                _this.wrapper.classList.remove('wrapper--active');\r\n                showTarget = _this.getLoginStatus() ? 'chatMainInner' : 'loginGuide';\r\n                _this.setRotationLockFromUI(false);\r\n            }\r\n            _this.playground.domCube.chat.showScreen(showTarget);\r\n            _this.chatBlockActive = status;\r\n        };\r\n        toggler.addEventListener('click', panelToggle);\r\n        this.playground.on('ready', function () {\r\n            _this.playground.domCube.chat.showScreen('loginGuide');\r\n            _this.playground.domCube.chat.on('cube-login-button-click', function () {\r\n                _this.setRotationLockFromUI(true);\r\n                panelSet(true);\r\n            });\r\n        });\r\n        this.rotationLock.addEventListener('click', this.toggleRotationLockFromUI.bind(this));\r\n        loginBtn.addEventListener('click', function () {\r\n            _this.myName = (0, lodash_1.trim)(_this.chatBlock.querySelector('#login-name').value);\r\n            if (_this.myName) {\r\n                /**/\r\n                _this.socket = (0, socket_io_client_1.io)(_this.path);\r\n                _this.initChatSocket();\r\n                _this.socket.emit('login', { username: _this.myName });\r\n            }\r\n            else {\r\n                (0, service_1.doAlert)('Please enter a name :)');\r\n            }\r\n        });\r\n        sendBtn.addEventListener('click', function () {\r\n            _this.sendMessage();\r\n        });\r\n        logoutBtn.addEventListener('click', function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var leave;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, (0, service_1.doConfirm)('Are you sure you want to leave the chat?')];\r\n                    case 1:\r\n                        leave = _a.sent();\r\n                        if (leave) {\r\n                            /* logout */\r\n                            this.socket.emit('logout', { username: this.myName });\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); });\r\n        document.addEventListener('keydown', function (evt) {\r\n            if (evt.keyCode == 13) {\r\n                _this.sendMessage();\r\n            }\r\n        });\r\n    };\r\n    Main.prototype.initMusicUI = function () {\r\n        var _this = this;\r\n        var musicBtn = this.chatBlock.querySelector('#search-music-button');\r\n        var stopRotationTimeOut;\r\n        musicBtn.addEventListener('click', function () { return __awaiter(_this, void 0, void 0, function () {\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.setRotationLockFromUI(true);\r\n                        this.playground.showMusic();\r\n                        return [4 /*yield*/, (0, service_1.searchMusic)().then(function (data) {\r\n                                if (data) {\r\n                                    (0, service_1.playViaIframe)(data).then(function () {\r\n                                        clearTimeout(stopRotationTimeOut);\r\n                                        stopRotationTimeOut = setTimeout(function () {\r\n                                            _this.setRotationLockFromUI(false);\r\n                                        }, 1000);\r\n                                    });\r\n                                }\r\n                                else {\r\n                                    _this.setRotationLockFromUI(false);\r\n                                }\r\n                            })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); });\r\n    };\r\n    Main.prototype.initChatSocket = function () {\r\n        var _this = this;\r\n        /**/\r\n        this.socket.on('loginSuccess', function (data) {\r\n            if (data.username === _this.myName) {\r\n                _this.checkIn(data);\r\n            }\r\n            else {\r\n                (0, service_1.doAlert)('Wrong username:( Please try again!');\r\n            }\r\n        });\r\n        /**/\r\n        this.socket.on('loginFail', function () {\r\n            (0, service_1.doAlert)('Duplicate name already exists :(');\r\n        });\r\n        /**/\r\n        this.socket.on('add', function (data) {\r\n            var html = \"<p>\".concat(data.username, \" \\u52A0\\u5165\\u804A\\u5929\\u5BA4</p>\");\r\n            // $('.chat-con').append(html);\r\n            _this.playground.domCube.chat.setGuestNumber(data.userCount);\r\n            _this.playground.domCube.chat.refreshGuestList(data === null || data === void 0 ? void 0 : data.users);\r\n        });\r\n        //\r\n        this.socket.on('leaveSuccess', function () {\r\n            _this.checkOut();\r\n        });\r\n        //\r\n        this.socket.on('leave', function (data) {\r\n            if (data.username != null) {\r\n                _this.playground.domCube.chat.refreshGuestList(data === null || data === void 0 ? void 0 : data.users);\r\n                var html = \"<p>\".concat(data.username, \" \\u9000\\u51FA\\u804A\\u5929\\u5BA4</p>\");\r\n                // $('.chat-con').append(html);\r\n                _this.playground.domCube.chat.setGuestNumber(data.userCount);\r\n            }\r\n        });\r\n        //\r\n        this.socket.on('receiveMessage', function (data) {\r\n            _this.showMessage(data);\r\n        });\r\n    };\r\n    Main.prototype.checkIn = function (data) {\r\n        var loginWrapper = this.chatBlock.querySelector('#login');\r\n        var userNameEle = this.chatBlock.querySelector('#my-name');\r\n        userNameEle.innerHTML = data.username;\r\n        loginWrapper.classList.add('login--logined');\r\n        this.setRotationLockFromUI(true);\r\n        this.setLoginStatus(true);\r\n        this.playground.showChat();\r\n    };\r\n    Main.prototype.checkOut = function () {\r\n        var loginWrapper = this.chatBlock.querySelector('#login');\r\n        loginWrapper.classList.remove('login--logined');\r\n        this.playground.domCube.chat.showScreen('loginGuide');\r\n        this.chatBlock.querySelector('#chat-main').innerHTML = '';\r\n        this.setLoginStatus(false);\r\n    };\r\n    Main.prototype.sendMessage = function () {\r\n        var inputEle = this.chatBlock.querySelector('#message-input');\r\n        var message = inputEle.value;\r\n        inputEle.value = '';\r\n        if (message) {\r\n            /* sendMessage */\r\n            this.socket.emit('sendMessage', { username: this.myName, message: message });\r\n        }\r\n    };\r\n    Main.prototype.showMessage = function (data) {\r\n        var html;\r\n        if (data.username === this.myName) {\r\n            html = \"<div class=\\\"chat-main__chat \\\">\\n                        <div class=\\\"chat-main__bubble-name\\\">You</div>\\n                        <div class=\\\"chat-main__bubble\\\">\".concat(data.message, \"</div>\\n                    </div>\\n                    \");\r\n        }\r\n        else {\r\n            html = \"<div class=\\\"chat-main__chat chat-main__chat--other\\\">\\n                        <div class=\\\"chat-main__bubble-name\\\">\".concat(data.username, \"</div>\\n                        <div class=\\\"chat-main__bubble\\\">\").concat(data.message, \"</div>\\n                    </div>\\n                    \");\r\n        }\r\n        var ele = (0, function_1.createElementFromHTML)(html);\r\n        var containerMain = this.chatBlock.querySelector('#chat-main');\r\n        var containerCube = this.wrapper.querySelector('#chat-main-cube .chat-main__inner#chat-main-inner');\r\n        containerMain.appendChild(ele);\r\n        containerCube.appendChild(ele.cloneNode(true));\r\n        containerMain.parentElement.scrollTop = containerMain.scrollHeight;\r\n        containerCube.scrollTop = containerCube.scrollHeight;\r\n    };\r\n    return Main;\r\n}(base_1.Base));\r\n(function () {\r\n    var cvs = document.querySelector('#canvas');\r\n    var dcvs = document.querySelector('#dom-canvas');\r\n    var domBundle = document.querySelector('#dom-bundle');\r\n    var instance = new Main(cvs, dcvs, domBundle);\r\n})();\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Cube = void 0;\r\nvar gsap_1 = require(\"gsap\");\r\nvar three_1 = require(\"three\");\r\nvar function_1 = require(\"../util/function\");\r\nvar Cube = /** @class */ (function () {\r\n    function Cube(base) {\r\n        this.base = base;\r\n        this.setModel();\r\n    }\r\n    Cube.prototype.createRoundedBoxGeo = function (width, height, depth, radius0, smoothness) {\r\n        var shape = new three_1.Shape();\r\n        var eps = 0.00001;\r\n        var radius = radius0 - eps;\r\n        var faceRadius = 0.25;\r\n        shape.absarc(eps, eps, faceRadius, -Math.PI / 2, -Math.PI, true);\r\n        shape.absarc(eps, height - radius * 2, faceRadius, Math.PI, Math.PI / 2, true);\r\n        shape.absarc(width - radius * 2, height - radius * 2, faceRadius, Math.PI / 2, 0, true);\r\n        shape.absarc(width - radius * 2, eps, faceRadius, 0, -Math.PI / 2, true);\r\n        var geometry = new three_1.ExtrudeGeometry(shape, {\r\n            depth: depth - radius0,\r\n            bevelEnabled: true,\r\n            bevelSegments: smoothness * 2,\r\n            steps: 1,\r\n            bevelSize: radius,\r\n            bevelThickness: radius0,\r\n            curveSegments: smoothness\r\n        });\r\n        geometry.center();\r\n        return geometry;\r\n    };\r\n    Cube.prototype.setModel = function () {\r\n        var _a, _b;\r\n        var geo = this.createRoundedBoxGeo(3, 3, 3, 0.4, 20);\r\n        var mat = new three_1.MeshMatcapMaterial({\r\n            matcap: this.base.resources.cubeMatcap\r\n        });\r\n        this.group = new three_1.Group();\r\n        this.mesh = new three_1.Mesh(geo, mat);\r\n        (_a = this.mesh.scale).set.apply(_a, function_1.cubeLikeConfig.initialScale);\r\n        (_b = this.mesh.rotation).set.apply(_b, function_1.cubeLikeConfig.initialRotation);\r\n        this.group.add(this.mesh);\r\n        this.base.scene.add(this.group);\r\n        this.doAnimation();\r\n    };\r\n    Cube.prototype.doAnimation = function () {\r\n        gsap_1.default.to(this.mesh.rotation, function_1.cubeLikeConfig.startAnimationInnerRotationConfig);\r\n        gsap_1.default.to(this.mesh.scale, function_1.cubeLikeConfig.startAnimationInnerScalingConfig);\r\n    };\r\n    Cube.prototype.showChat = function () {\r\n        var _this = this;\r\n        gsap_1.default.to(this.base.camera.instance.position, {\r\n            x: this.base.camera.bestPoint.x,\r\n            y: this.base.camera.bestPoint.y,\r\n            z: this.base.camera.bestPoint.z,\r\n            duration: 4,\r\n            onStart: function () {\r\n                _this.base.camera.controls.enabled = false;\r\n                _this.base.camera.controls.enableDamping = false;\r\n            },\r\n            onComplete: function () {\r\n                _this.base.camera.controls.enabled = true;\r\n                _this.base.camera.controls.enableDamping = true;\r\n            }\r\n        });\r\n        gsap_1.default.to(this.mesh.rotation, function_1.cubeLikeConfig.showChatAnimationInnerRotationConfig);\r\n        var angle = (0, function_1.getTargetAngle)(this.group.rotation.y);\r\n        gsap_1.default.to(this.group.rotation, {\r\n            x: 0,\r\n            y: angle,\r\n            z: 0,\r\n            duration: 2\r\n        });\r\n    };\r\n    Cube.prototype.showMusic = function () {\r\n        var _this = this;\r\n        gsap_1.default.to(this.base.camera.instance.position, {\r\n            x: this.base.camera.bestPoint.x,\r\n            y: this.base.camera.bestPoint.y,\r\n            z: this.base.camera.bestPoint.z,\r\n            duration: 4,\r\n            onStart: function () {\r\n                _this.base.camera.controls.enabled = false;\r\n                _this.base.camera.controls.enableDamping = false;\r\n            },\r\n            onComplete: function () {\r\n                _this.base.camera.controls.enabled = true;\r\n                _this.base.camera.controls.enableDamping = true;\r\n            }\r\n        });\r\n        gsap_1.default.to(this.mesh.rotation, function_1.cubeLikeConfig.showMusicAnimationInnerRotationConfig);\r\n        var angle = (0, function_1.getTargetAngle)(this.group.rotation.y);\r\n        gsap_1.default.to(this.group.rotation, {\r\n            x: 0,\r\n            y: angle - Math.PI / 4,\r\n            z: 0,\r\n            duration: 2\r\n        });\r\n    };\r\n    Cube.prototype.update = function (delta) {\r\n        if (!this.base.touched && !this.base.getRotationLockStatus()) {\r\n            this.group.rotation.y += delta / function_1.cubeLikeConfig.updateParameter;\r\n        }\r\n    };\r\n    return Cube;\r\n}());\r\nexports.Cube = Cube;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DomCube = void 0;\r\nvar three_1 = require(\"three\");\r\nvar dom_1 = require(\"../dom\");\r\nvar space_inavader_1 = require(\"../dom/space-inavader\");\r\nvar gsap_1 = require(\"gsap\");\r\nvar clock_1 = require(\"../dom/clock\");\r\nvar function_1 = require(\"../util/function\");\r\nvar music_1 = require(\"../dom/music\");\r\nvar DomCube = /** @class */ (function () {\r\n    function DomCube(base) {\r\n        this.base = base;\r\n        this.groupOuter = new three_1.Group();\r\n        this.groupInner = new three_1.Group();\r\n        this.init();\r\n    }\r\n    DomCube.prototype.init = function () {\r\n        var _a, _b;\r\n        this.chat = new dom_1.Chat(this.base);\r\n        this.clock = new clock_1.Clock(this.base);\r\n        this.music = new music_1.Music(this.base);\r\n        this.spaceInvader = new space_inavader_1.SpaceInvader(this.base);\r\n        (_a = this.groupInner.scale).set.apply(_a, function_1.cubeLikeConfig.initialScale);\r\n        (_b = this.groupInner.rotation).set.apply(_b, function_1.cubeLikeConfig.initialRotation);\r\n        this.groupInner.add(this.chat.object);\r\n        this.groupInner.add(this.clock.object);\r\n        this.groupInner.add(this.music.object);\r\n        this.groupInner.add(this.spaceInvader.object);\r\n        this.groupOuter.add(this.groupInner);\r\n        this.base.scene2.add(this.groupOuter);\r\n        this.doAnimation();\r\n    };\r\n    DomCube.prototype.doAnimation = function () {\r\n        gsap_1.default.to(this.groupInner.rotation, function_1.cubeLikeConfig.startAnimationInnerRotationConfig);\r\n        gsap_1.default.to(this.groupInner.scale, function_1.cubeLikeConfig.startAnimationInnerScalingConfig);\r\n    };\r\n    DomCube.prototype.showChat = function () {\r\n        gsap_1.default.to(this.groupInner.rotation, function_1.cubeLikeConfig.showChatAnimationInnerRotationConfig);\r\n        var angle = (0, function_1.getTargetAngle)(this.groupOuter.rotation.y);\r\n        gsap_1.default.to(this.groupOuter.rotation, {\r\n            x: 0,\r\n            y: angle,\r\n            z: 0,\r\n            duration: 2\r\n        });\r\n    };\r\n    DomCube.prototype.showMusic = function () {\r\n        gsap_1.default.to(this.groupInner.rotation, function_1.cubeLikeConfig.showMusicAnimationInnerRotationConfig);\r\n        var angle = (0, function_1.getTargetAngle)(this.groupOuter.rotation.y);\r\n        gsap_1.default.to(this.groupOuter.rotation, {\r\n            x: 0,\r\n            y: angle - Math.PI / 4,\r\n            z: 0,\r\n            duration: 2\r\n        });\r\n    };\r\n    DomCube.prototype.update = function (delta) {\r\n        if (!this.base.touched && !this.base.getRotationLockStatus()) {\r\n            this.groupOuter.rotation.y += delta / function_1.cubeLikeConfig.updateParameter;\r\n        }\r\n        this.chat.update();\r\n        this.clock.update();\r\n        this.music.update();\r\n        this.spaceInvader.update();\r\n    };\r\n    return DomCube;\r\n}());\r\nexports.DomCube = DomCube;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./cube\"), exports);\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getResources = void 0;\r\nvar textures_1 = require(\"./textures\");\r\nvar three_1 = require(\"three\");\r\nvar textureLoader = new three_1.TextureLoader();\r\nvar cubeTextureLoader = new three_1.CubeTextureLoader();\r\nvar getTexture = function (source) {\r\n    var prm = new Promise(function (res, rej) {\r\n        textureLoader.load(source.path, function (texture) {\r\n            res({\r\n                name: source.name,\r\n                content: texture\r\n            });\r\n        }, null, rej);\r\n    });\r\n    return prm;\r\n};\r\nvar getCubeTexture = function (source) {\r\n    var prm = new Promise(function (res, rej) {\r\n        cubeTextureLoader.load(source.paths, function (texture) {\r\n            res({\r\n                name: source.name,\r\n                content: texture\r\n            });\r\n        }, null, function (error) { console.log(error); });\r\n    });\r\n    return prm;\r\n};\r\nvar getResources = function () {\r\n    var promiseArr = [];\r\n    for (var _i = 0, textureSources_1 = textures_1.textureSources; _i < textureSources_1.length; _i++) {\r\n        var textureSource = textureSources_1[_i];\r\n        switch (textureSource.type) {\r\n            case 'cubeTexture':\r\n                promiseArr.push(getCubeTexture(textureSource));\r\n                break;\r\n            case 'texture':\r\n                promiseArr.push(getTexture(textureSource));\r\n                break;\r\n        }\r\n    }\r\n    return Promise.all(promiseArr).then(function (values) {\r\n        var result = {};\r\n        values.forEach(function (sourceObj) {\r\n            result[sourceObj.name] = sourceObj.content;\r\n        });\r\n        return result;\r\n    });\r\n};\r\nexports.getResources = getResources;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.textureSources = void 0;\r\nexports.textureSources = [\r\n    {\r\n        name: 'gradientCubeTexture',\r\n        type: 'cubeTexture',\r\n        paths: [\r\n            './assets/images/cubemap/gs-gradient/px.png',\r\n            './assets/images/cubemap/gs-gradient/nx.png',\r\n            './assets/images/cubemap/gs-gradient/py.png',\r\n            './assets/images/cubemap/gs-gradient/ny.png',\r\n            './assets/images/cubemap/gs-gradient/pz.png',\r\n            './assets/images/cubemap/gs-gradient/nz.png'\r\n        ]\r\n    },\r\n    {\r\n        name: 'cubeMatcap',\r\n        type: 'texture',\r\n        path: './assets/images/matcap/BlackRough.png'\r\n    }\r\n];\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EventEmitter = void 0;\r\nvar EventEmitter = /** @class */ (function () {\r\n    function EventEmitter() {\r\n        this.callbacks = {};\r\n        this.callbacks = {};\r\n        this.callbacks.base = {};\r\n    }\r\n    EventEmitter.prototype.on = function (_names, callback) {\r\n        var _this = this;\r\n        // Errors\r\n        if (typeof _names === 'undefined' || _names === '') {\r\n            console.warn('wrong names');\r\n            return false;\r\n        }\r\n        if (typeof callback === 'undefined') {\r\n            console.warn('wrong callback');\r\n            return false;\r\n        }\r\n        // Resolve names\r\n        var names = this.resolveNames(_names);\r\n        // Each name\r\n        names.forEach(function (_name) {\r\n            // Resolve name\r\n            var name = _this.resolveName(_name);\r\n            // Create namespace if not exist\r\n            if (!(_this.callbacks[name.namespace] instanceof Object))\r\n                _this.callbacks[name.namespace] = {};\r\n            // Create callback if not exist\r\n            if (!(_this.callbacks[name.namespace][name.value] instanceof Array))\r\n                _this.callbacks[name.namespace][name.value] = [];\r\n            // Add callback\r\n            _this.callbacks[name.namespace][name.value].push(callback);\r\n        });\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.off = function (_names) {\r\n        var _this = this;\r\n        // Errors\r\n        if (typeof _names === 'undefined' || _names === '') {\r\n            console.warn('wrong name');\r\n            return false;\r\n        }\r\n        // Resolve names\r\n        var names = this.resolveNames(_names);\r\n        // Each name\r\n        names.forEach(function (_name) {\r\n            // Resolve name\r\n            var name = _this.resolveName(_name);\r\n            // Remove namespace\r\n            if (name.namespace !== 'base' && name.value === '') {\r\n                delete _this.callbacks[name.namespace];\r\n            }\r\n            // Remove specific callback in namespace\r\n            else {\r\n                // Default\r\n                if (name.namespace === 'base') {\r\n                    // Try to remove from each namespace\r\n                    for (var namespace in _this.callbacks) {\r\n                        if (_this.callbacks[namespace] instanceof Object &&\r\n                            _this.callbacks[namespace][name.value] instanceof Array) {\r\n                            delete _this.callbacks[namespace][name.value];\r\n                            // Remove namespace if empty\r\n                            if (Object.keys(_this.callbacks[namespace]).length === 0)\r\n                                delete _this.callbacks[namespace];\r\n                        }\r\n                    }\r\n                }\r\n                // Specified namespace\r\n                else if (_this.callbacks[name.namespace] instanceof Object &&\r\n                    _this.callbacks[name.namespace][name.value] instanceof Array) {\r\n                    delete _this.callbacks[name.namespace][name.value];\r\n                    // Remove namespace if empty\r\n                    if (Object.keys(_this.callbacks[name.namespace]).length === 0)\r\n                        delete _this.callbacks[name.namespace];\r\n                }\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.trigger = function (_name, _args) {\r\n        var _this = this;\r\n        // Errors\r\n        if (typeof _name === 'undefined' || _name === '') {\r\n            console.warn('wrong name');\r\n            return false;\r\n        }\r\n        var finalResult = null;\r\n        var result = null;\r\n        // Default args\r\n        var args = !(_args instanceof Array) ? [] : _args;\r\n        // Resolve names (should on have one event)\r\n        var nameArray = this.resolveNames(_name);\r\n        // Resolve name\r\n        var name = this.resolveName(nameArray[0]);\r\n        // Default namespace\r\n        if (name.namespace === 'base') {\r\n            // Try to find callback in each namespace\r\n            for (var namespace in this.callbacks) {\r\n                if (this.callbacks[namespace] instanceof Object &&\r\n                    this.callbacks[namespace][name.value] instanceof Array) {\r\n                    this.callbacks[namespace][name.value].forEach(function (callback) {\r\n                        result = callback.apply(_this, args);\r\n                        if (typeof finalResult === 'undefined') {\r\n                            finalResult = result;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        // Specified namespace\r\n        else if (this.callbacks[name.namespace] instanceof Object) {\r\n            if (name.value === '') {\r\n                console.warn('wrong name');\r\n                return this;\r\n            }\r\n            this.callbacks[name.namespace][name.value].forEach(function (callback) {\r\n                result = callback.apply(_this, args);\r\n                if (typeof finalResult === 'undefined')\r\n                    finalResult = result;\r\n            });\r\n        }\r\n        return finalResult;\r\n    };\r\n    EventEmitter.prototype.resolveNames = function (_names) {\r\n        var names = _names;\r\n        names = names.replace(/[^a-zA-Z0-9 ,/.]/g, '');\r\n        names = names.replace(/[,/]+/g, ' ');\r\n        names = names.split(' ');\r\n        return names;\r\n    };\r\n    EventEmitter.prototype.resolveName = function (name) {\r\n        var newName = {};\r\n        var parts = name.split('.');\r\n        newName.original = name;\r\n        newName.value = parts[0];\r\n        newName.namespace = 'base'; // Base namespace\r\n        // Specified namespace\r\n        if (parts.length > 1 && parts[1] !== '') {\r\n            newName.namespace = parts[1];\r\n        }\r\n        return newName;\r\n    };\r\n    return EventEmitter;\r\n}());\r\nexports.EventEmitter = EventEmitter;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getTargetAngle = exports.createElementFromHTML = exports.cubeLikeConfig = exports.pad = exports.updateOcclude = void 0;\r\nfunction updateOcclude(faceType) {\r\n    var box = faceType.base.playground.cube.mesh;\r\n    faceType.cNormal.copy(faceType.normal).applyMatrix3(box.normalMatrix);\r\n    faceType.cPos.copy(faceType.pos).applyMatrix4(faceType.m4.multiplyMatrices(faceType.base.camera.instance.matrixWorldInverse, box.matrixWorld));\r\n    var d = faceType.cPos.negate().dot(faceType.cNormal);\r\n    faceType.element.style.visibility = d < 0 ? \"hidden\" : \"visible\";\r\n}\r\nexports.updateOcclude = updateOcclude;\r\nfunction pad(n, l) {\r\n    for (var r = n.toString(); r.length < l; r = 0 + r)\r\n        ;\r\n    return r;\r\n}\r\nexports.pad = pad;\r\nexports.cubeLikeConfig = {\r\n    initialScale: [0, 0, 0],\r\n    initialRotation: [Math.PI / 3, -Math.PI / 3, Math.PI / 3],\r\n    startAnimationInnerRotationConfig: {\r\n        x: 0,\r\n        y: Math.PI / 4,\r\n        z: 0,\r\n        duration: 2\r\n    },\r\n    startAnimationInnerScalingConfig: {\r\n        x: 1,\r\n        y: 1,\r\n        z: 1,\r\n        duration: 2\r\n    },\r\n    showChatAnimationInnerRotationConfig: {\r\n        x: 0,\r\n        y: -Math.PI / 4,\r\n        z: 0,\r\n        duration: 2\r\n    },\r\n    showMusicAnimationInnerRotationConfig: {\r\n        x: 0,\r\n        y: -Math.PI / 4,\r\n        z: 0,\r\n        duration: 2\r\n    },\r\n    showChatAnimationOuterRotationConfig: {\r\n        x: 0,\r\n        y: 0,\r\n        z: 0,\r\n        duration: 2\r\n    },\r\n    updateParameter: 5\r\n};\r\nfunction createElementFromHTML(htmlString) {\r\n    var div = document.createElement('div');\r\n    div.innerHTML = htmlString.trim();\r\n    // Change this to div.childNodes to support multiple top-level nodes.\r\n    return div.firstChild;\r\n}\r\nexports.createElementFromHTML = createElementFromHTML;\r\nfunction getTargetAngle(angle) {\r\n    var remain = angle % (2 * Math.PI);\r\n    var minor = angle - remain - 0.25 * Math.PI;\r\n    var major = angle + ((7 * Math.PI / 4) - remain);\r\n    var newAngle = remain < Math.PI ? minor : major;\r\n    return newAngle;\r\n}\r\nexports.getTargetAngle = getTargetAngle;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./event-emitter\"), exports);\r\n__exportStar(require(\"./ticker\"), exports);\r\n__exportStar(require(\"./sizer\"), exports);\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.playViaIframe = exports.searchMusic = exports.doAlert = exports.doConfirm = void 0;\r\nvar widget_1 = require(\"../util/widget\");\r\nvar soundcloud_service_1 = require(\"./soundcloud-service\");\r\nvar soundCloudService = new soundcloud_service_1.SoundCloudService({ clientId: 'jOJjarVXJfZlI309Up55k93EUDG7ILW6' });\r\nfunction doConfirm(template) {\r\n    var frame = document.querySelector('#modal-confirm');\r\n    var activeClass = 'modal-prompt--active';\r\n    var cusRes;\r\n    var prm = new Promise(function (res, rej) {\r\n        cusRes = res;\r\n    });\r\n    var confirm = false;\r\n    var cb = function (e) {\r\n        e.preventDefault();\r\n        switch (e.target.closest('[action]').getAttribute('action')) {\r\n            case 'yes':\r\n                confirm = true;\r\n                frame.classList.remove(activeClass);\r\n                break;\r\n            case 'no':\r\n                confirm = false;\r\n                frame.classList.remove(activeClass);\r\n                break;\r\n            case 'close':\r\n                frame.classList.remove(activeClass);\r\n                break;\r\n        }\r\n        e.currentTarget.removeEventListener('click', cb);\r\n        cusRes(confirm);\r\n    };\r\n    frame.querySelector('p').innerHTML = template;\r\n    //show frame;\r\n    frame.classList.add(activeClass);\r\n    frame.addEventListener('click', cb);\r\n    return prm;\r\n}\r\nexports.doConfirm = doConfirm;\r\nfunction doAlert(template) {\r\n    var frame = document.querySelector('#modal-alert');\r\n    var activeClass = 'modal-prompt--active';\r\n    var cb = function (e) {\r\n        e.preventDefault();\r\n        var action = e.target.closest('[action]').getAttribute('action');\r\n        if (action === 'close') {\r\n            e.currentTarget.removeEventListener('click', cb);\r\n            frame.classList.remove(activeClass);\r\n        }\r\n    };\r\n    frame.querySelector('p').innerHTML = template;\r\n    //show frame;\r\n    frame.classList.add(activeClass);\r\n    frame.addEventListener('click', cb);\r\n}\r\nexports.doAlert = doAlert;\r\nfunction searchMusic() {\r\n    var _this = this;\r\n    var frame = document.querySelector('#modal-music-search');\r\n    var activeClass = 'modal-music-search--active';\r\n    var cusRes;\r\n    var chosenId;\r\n    var prm = new Promise(function (res, rej) {\r\n        cusRes = res;\r\n    });\r\n    var cb = function (e) { return __awaiter(_this, void 0, void 0, function () {\r\n        var actionTarget, action, container, keyword, searchResult, embedableTracks, htmlBundle;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    e.preventDefault();\r\n                    actionTarget = e.target.closest('[action]') || e.target;\r\n                    action = actionTarget.getAttribute('action');\r\n                    if (!(action === 'close')) return [3 /*break*/, 1];\r\n                    e.currentTarget.removeEventListener('click', cb);\r\n                    frame.classList.remove(activeClass);\r\n                    cusRes(false);\r\n                    return [3 /*break*/, 4];\r\n                case 1:\r\n                    if (!(action === 'search')) return [3 /*break*/, 3];\r\n                    if (!soundCloudService)\r\n                        return [2 /*return*/];\r\n                    container = frame.querySelector('#search-music-result');\r\n                    keyword = frame.querySelector('#music-search-input').value;\r\n                    if (!keyword)\r\n                        return [2 /*return*/];\r\n                    container.innerHTML = \"\\n            <li class=\\\"modal-music-search__li modal-music-search__li--loading\\\">\\n               <img src=\\\"./assets/images/ripple.svg\\\">\\n            </li>\\n            \";\r\n                    return [4 /*yield*/, soundCloudService.search({\r\n                            q: keyword,\r\n                            limit: 100\r\n                        }).then(function (searchResult) {\r\n                            widget_1.widget.trigger('search', [searchResult]);\r\n                            return searchResult;\r\n                        })];\r\n                case 2:\r\n                    searchResult = _a.sent();\r\n                    embedableTracks = searchResult === null || searchResult === void 0 ? void 0 : searchResult.collection.filter(function (o) {\r\n                        return o.embeddable_by === 'all' && !!o.title;\r\n                    });\r\n                    htmlBundle = embedableTracks.map(function (o, index) {\r\n                        var _a, _b;\r\n                        return \"\\n                <li class=\\\"modal-music-search__li music-search-item\\\" style=\\\"animation-delay:\".concat(100 * index, \"ms\\\">\\n                    <div class=\\\"music-search-item__inner\\\">\\n                        <div class=\\\"music-search-item__head\\\">\\n                            <div class=\\\"music-search-item__img\\\">\\n                                <img src=\\\"\").concat(o.artwork_url, \"\\\" onerror=\\\"this.parentNode.classList.add('music-search-item__img--not-found')\\\" >\\n                            </div>\\n                        </div>\\n                        <div class=\\\"music-search-item__body\\\">\\n                            <div class=\\\"music-search-item__title\\\">\\n                                <span>\").concat(o.title, \"</span>\\n                            </div>\\n                            <div class=\\\"music-search-item__descrp\\\">\\n                                <div class=\\\"music-search-item__artist\\\">\\n                                \").concat(((_a = o.publisher_metadata) === null || _a === void 0 ? void 0 : _a.artist) || 'Unknown', \"\\n                                </div>\\n                                <div class=\\\"music-search-item__album-title\\\">\").concat(((_b = o.publisher_metadata) === null || _b === void 0 ? void 0 : _b.album_title) || '', \"</div>\\n                            </div>\\n                        </div>\\n                        <button class=\\\"music-search-item__play\\\" action=\\\"choose\\\" data-id=\\\"\").concat(o.id, \"\\\">\\n                        </button>\\n                    </div>\\n                </li>\\n                \");\r\n                    }).join('');\r\n                    container.scrollTop = 0;\r\n                    container.innerHTML = htmlBundle;\r\n                    return [3 /*break*/, 4];\r\n                case 3:\r\n                    if (action === 'choose') {\r\n                        chosenId = actionTarget.getAttribute('data-id') || '';\r\n                        e.currentTarget.removeEventListener('click', cb);\r\n                        frame.classList.remove(activeClass);\r\n                        cusRes(chosenId);\r\n                    }\r\n                    _a.label = 4;\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    frame.classList.add(activeClass);\r\n    frame.addEventListener('click', cb);\r\n    return prm;\r\n}\r\nexports.searchMusic = searchMusic;\r\nfunction playViaIframe(trackId) {\r\n    var source = \"https%3A//api.soundcloud.com/tracks/\".concat(trackId);\r\n    return widget_1.widget.load(source).then(function () {\r\n        widget_1.widget.play();\r\n    });\r\n}\r\nexports.playViaIframe = playViaIframe;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Sizer = void 0;\r\nvar event_emitter_1 = require(\"./event-emitter\");\r\nvar Sizer = /** @class */ (function (_super) {\r\n    __extends(Sizer, _super);\r\n    function Sizer(canvas) {\r\n        var _this = _super.call(this) || this;\r\n        _this.canvas = canvas;\r\n        _this.pixelRatio = Math.min(window.devicePixelRatio, 2);\r\n        _this.initSizingMechanic();\r\n        return _this;\r\n    }\r\n    Sizer.prototype.initSizingMechanic = function () {\r\n        this.sizing();\r\n        window.addEventListener('resize', this.sizing.bind(this));\r\n    };\r\n    Sizer.prototype.sizing = function () {\r\n        var rect = this.canvas.parentElement.getBoundingClientRect();\r\n        this.width = rect.width;\r\n        this.height = rect.height;\r\n        this.trigger('resize', [this.width, this.height]);\r\n    };\r\n    return Sizer;\r\n}(event_emitter_1.EventEmitter));\r\nexports.Sizer = Sizer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SoundCloudService = void 0;\r\nvar axios = require('axios');\r\nvar SoundCloudService = /** @class */ (function () {\r\n    function SoundCloudService(config) {\r\n        this.config = config;\r\n    }\r\n    SoundCloudService.prototype.search = function (params) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var type = '/search/tracks';\r\n            var cors = \"https://cors-proxy-server.onrender.com/\";\r\n            params.client_id = params.client_id ? params.client_id : _this.config.clientId;\r\n            var urlParameters = Object.entries(params)\r\n                .map(function (e) { return e.join(\"=\"); })\r\n                .join(\"&\");\r\n            var url = \"\".concat(cors, \"https://api-v2.soundcloud.com\").concat(type, \"?\").concat(urlParameters);\r\n            axios({\r\n                url: url\r\n            })\r\n                .then(function (res) { return resolve(res.data); })\r\n                .catch(function (err) { return reject(err); });\r\n        });\r\n    };\r\n    return SoundCloudService;\r\n}());\r\nexports.SoundCloudService = SoundCloudService;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Ticker = void 0;\r\nvar event_emitter_1 = require(\"./event-emitter\");\r\nvar three_1 = require(\"three\");\r\nvar Ticker = /** @class */ (function (_super) {\r\n    __extends(Ticker, _super);\r\n    function Ticker() {\r\n        var _this = _super.call(this) || this;\r\n        _this.clock = new three_1.Clock();\r\n        window.requestAnimationFrame(function () {\r\n            _this.tick();\r\n        });\r\n        return _this;\r\n    }\r\n    Ticker.prototype.tick = function () {\r\n        var _this = this;\r\n        this.trigger('tick', [this.clock]);\r\n        window.requestAnimationFrame(function () {\r\n            _this.tick();\r\n        });\r\n    };\r\n    return Ticker;\r\n}(event_emitter_1.EventEmitter));\r\nexports.Ticker = Ticker;\r\n","\"use strict\";\r\n/*This is a modified version of https://github.com/samcrosoft/waveformjs, the original one is written in coffee script, and I rewrite it into typescript*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Waveform = exports.EVENT_RESIZED = exports.EVENT_HOVER = exports.EVENT_CLICK = exports.EVENT_READY = exports.REFLECTION_ACTIVE = exports.REFLECTION = exports.GUTTER_SELECTED = exports.GUTTER_ACTIVE = exports.GUTTER = exports.WAVE_SELECTED = exports.WAVE_ACTIVE = exports.WAVE = exports.WAVE_FOCUS = exports.DEFAULT_MIN_OPACITY = exports.DEFAULT_MAX_OPACITY = void 0;\r\nvar event_emitter_1 = require(\"./event-emitter\");\r\nexports.DEFAULT_MAX_OPACITY = 1;\r\nexports.DEFAULT_MIN_OPACITY = 0.2;\r\nexports.WAVE_FOCUS = 'waveFocus';\r\nexports.WAVE = 'wave';\r\nexports.WAVE_ACTIVE = 'waveActive';\r\nexports.WAVE_SELECTED = 'waveSelected';\r\nexports.GUTTER = 'gutter';\r\nexports.GUTTER_ACTIVE = 'gutterActive';\r\nexports.GUTTER_SELECTED = 'gutterSelected';\r\nexports.REFLECTION = 'reflection';\r\nexports.REFLECTION_ACTIVE = 'reflectionActive';\r\nexports.EVENT_READY = \"ready\";\r\nexports.EVENT_CLICK = \"click\";\r\nexports.EVENT_HOVER = \"hover\";\r\nexports.EVENT_RESIZED = \"hover\";\r\nvar Waveform = /** @class */ (function (_super) {\r\n    __extends(Waveform, _super);\r\n    function Waveform(options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.DEFAULT_MAX_OPACITY = exports.DEFAULT_MAX_OPACITY;\r\n        _this.DEFAULT_MIN_OPACITY = exports.DEFAULT_MIN_OPACITY;\r\n        _this.WAVE_FOCUS = exports.WAVE_FOCUS;\r\n        _this.WAVE = exports.WAVE;\r\n        _this.WAVE_ACTIVE = exports.WAVE_ACTIVE;\r\n        _this.WAVE_SELECTED = exports.WAVE_SELECTED;\r\n        _this.GUTTER = exports.GUTTER;\r\n        _this.GUTTER_ACTIVE = exports.GUTTER_ACTIVE;\r\n        _this.GUTTER_SELECTED = exports.GUTTER_SELECTED;\r\n        _this.REFLECTION = exports.REFLECTION;\r\n        _this.REFLECTION_ACTIVE = exports.REFLECTION_ACTIVE;\r\n        _this.EVENT_READY = exports.EVENT_READY;\r\n        _this.EVENT_CLICK = exports.EVENT_CLICK;\r\n        _this.EVENT_HOVER = exports.EVENT_HOVER;\r\n        _this.EVENT_RESIZED = exports.EVENT_RESIZED;\r\n        _this.data = [];\r\n        _this.outerColor = 'transparent';\r\n        _this.reflection = 0;\r\n        _this.interpolate = true;\r\n        _this.bindResize = false;\r\n        _this.fadeOpacity = 0.5;\r\n        _this.wavesCollection = [];\r\n        _this.width = 0;\r\n        _this.height = 0;\r\n        _this.waveWidth = 2;\r\n        _this.gutterWidth = 1;\r\n        _this.waveOffset = 0;\r\n        _this.reflectionHeight = 0;\r\n        _this.waveHeight = 0;\r\n        _this.colors = {};\r\n        _this.active = -1;\r\n        _this.clickPercent = 0;\r\n        _this.selected = -1;\r\n        _this.isPlaying = false;\r\n        _this.hasStartedPlaying = false;\r\n        _this.trackLength = 0;\r\n        Object.assign(_this, options);\r\n        if (!_this.canvas) {\r\n            if (_this.container) {\r\n                _this.spawnCanvas(options.width || _this.container.clientWidth, options.height || _this.container.clientHeight);\r\n                _this.width = parseInt(_this.context.canvas.width.toString(), 10);\r\n                _this.height = parseInt(_this.context.canvas.height.toString(), 10);\r\n            }\r\n            else {\r\n                throw 'Either canvas or container option must be passed';\r\n            }\r\n        }\r\n        _this.fadeOpacity = _this.fadeOpacity || _this.DEFAULT_MAX_OPACITY;\r\n        if (isNaN(_this.fadeOpacity)) {\r\n            throw new Error('Fade Opacity Can Only Be A Number');\r\n        }\r\n        else if (_this.fadeOpacity < _this.DEFAULT_MIN_OPACITY || _this.fadeOpacity > _this.DEFAULT_MAX_OPACITY) {\r\n            throw new Error(\"Fade Opacity Can Only Be A Number Between \" + _this.DEFAULT_MIN_OPACITY + \" and \" + _this.DEFAULT_MAX_OPACITY);\r\n        }\r\n        _this.initialize();\r\n        return _this;\r\n    }\r\n    Waveform.prototype.spawnCanvas = function (width, height) {\r\n        this.canvas = document.createElement(\"canvas\");\r\n        this.container.appendChild(this.canvas);\r\n        this.canvas.width = width;\r\n        this.canvas.height = height;\r\n        this.context = this.canvas.getContext('2d');\r\n    };\r\n    ;\r\n    Waveform.prototype.initialize = function () {\r\n        this.updateHeight();\r\n        this.setColors();\r\n        this.bindEventHandlers();\r\n        this.cache();\r\n        this.redraw();\r\n        if (this.bindResize === true) {\r\n            this.bindContainerResize();\r\n        }\r\n        this.fireEvent(this.EVENT_READY);\r\n    };\r\n    ;\r\n    Waveform.prototype.updateHeight = function () {\r\n        this.waveOffset = Math.round(this.height - (this.height * this.reflection));\r\n        this.reflectionHeight = Math.round(this.height - this.waveOffset);\r\n        this.waveHeight = this.height - this.reflectionHeight;\r\n    };\r\n    ;\r\n    Waveform.prototype.setColors = function () {\r\n        this.setColor(this.WAVE_FOCUS, '#333333');\r\n        this.setGradient(this.WAVE, [{ color: '#666666', offset: 0 }, { color: '#868686', offset: 1 }]);\r\n        this.setGradient(this.WAVE_ACTIVE, [{ color: '#FF3300', offset: 0 }, { color: '#FF5100', offset: 1 }]);\r\n        this.setGradient(this.WAVE_SELECTED, [{ color: '#993016', offset: 0 }, { color: '#973C15', offset: 1 }]);\r\n        this.setGradient(this.GUTTER, [{ color: '#6B6B6B', offset: 0 }, { color: '#c9c9c9', offset: 1 }]);\r\n        this.setGradient(this.GUTTER_ACTIVE, [{ color: '#FF3704', offset: 0 }, { color: '#FF8F63', offset: 1 }]);\r\n        this.setGradient(this.GUTTER_SELECTED, [{ color: '#9A371E', offset: 0 }, { color: '#CE9E8A', offset: 1 }]);\r\n        this.setColor(this.REFLECTION, '#999999');\r\n        this.setColor(this.REFLECTION_ACTIVE, '#FFC0A0');\r\n    };\r\n    Waveform.prototype.setColor = function (name, color) {\r\n        this.colors[name] = color;\r\n    };\r\n    Waveform.prototype.setGradient = function (name, colorObjs) {\r\n        var gradient, i;\r\n        gradient = this.context.createLinearGradient(0, this.waveOffset, 0, 0);\r\n        i = 0;\r\n        while (i < colorObjs.length) {\r\n            gradient.addColorStop(colorObjs[i].offset, colorObjs[i].color);\r\n            i += 1;\r\n        }\r\n        this.colors[name] = gradient;\r\n    };\r\n    ;\r\n    Waveform.prototype.getMouseClickPosition = function (evt) {\r\n        var canvas, rect, x, y;\r\n        canvas = this.canvas;\r\n        rect = canvas.getBoundingClientRect();\r\n        x = Math.round((evt.clientX - rect.left) / (rect.right - rect.left) * canvas.width);\r\n        y = Math.round((evt.clientY - rect.top) / (rect.bottom - rect.top) * canvas.height);\r\n        return [x, y];\r\n    };\r\n    ;\r\n    Waveform.prototype.fireEvent = function (name) {\r\n        var data = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            data[_i - 1] = arguments[_i];\r\n        }\r\n        this.trigger(name, data);\r\n    };\r\n    ;\r\n    Waveform.prototype.bindEventHandlers = function () {\r\n        this.canvas.addEventListener('mousedown', this.onMouseDown.bind(this));\r\n        this.canvas.addEventListener('mousemove', this.onMouseOver.bind(this));\r\n        this.canvas.addEventListener('mouseout', this.onMouseOut.bind(this));\r\n    };\r\n    ;\r\n    Waveform.prototype.onMouseOut = function (e) {\r\n        this.selected = -1;\r\n        this.redraw();\r\n    };\r\n    ;\r\n    Waveform.prototype.onMouseOver = function (e) {\r\n        var aPos, //coordinate in [x,y] format\r\n        mousePosTrackTime, waveClicked, x;\r\n        if (this.hasStartedPlaying === true && this.isPaused() === true) {\r\n            return true;\r\n        }\r\n        aPos = this.getMouseClickPosition(e);\r\n        x = aPos[0];\r\n        waveClicked = this.getWaveClicked(x);\r\n        mousePosTrackTime = this.getMousePosTrackTime(x);\r\n        this.fireEvent(this.EVENT_HOVER, mousePosTrackTime, waveClicked);\r\n        this.selected = waveClicked;\r\n        this.redraw();\r\n    };\r\n    ;\r\n    Waveform.prototype.onMouseDown = function (e) {\r\n        var aPos, //coordinate in [x,y] format\r\n        x;\r\n        aPos = this.getMouseClickPosition(e);\r\n        x = aPos[0];\r\n        this.clickPercent = x / this.width;\r\n        this.fireEvent(this.EVENT_CLICK, this.clickPercent * 100);\r\n        this.active = this.calcPercent();\r\n        this.redraw();\r\n    };\r\n    ;\r\n    Waveform.prototype.bindContainerResize = function () {\r\n        var _this = this;\r\n        window.addEventListener(\"resize\", function () {\r\n            return function () {\r\n                var iContWidth;\r\n                iContWidth = _this.container.clientWidth;\r\n                _this.update({\r\n                    width: iContWidth\r\n                });\r\n                _this.redraw();\r\n                return _this.trigger(_this.EVENT_RESIZED, [iContWidth]);\r\n            };\r\n        });\r\n    };\r\n    ;\r\n    Waveform.prototype.setPlaying = function (val) {\r\n        if (val === void 0) { val = true; }\r\n        this.isPlaying = val;\r\n    };\r\n    ;\r\n    Waveform.prototype.setPaused = function () {\r\n        this.setPlaying(false);\r\n    };\r\n    ;\r\n    Waveform.prototype.isPaused = function () {\r\n        return this.active > 0 && this.isPlaying === false;\r\n    };\r\n    ;\r\n    Waveform.prototype.play = function (perct) {\r\n        this.playProgress(perct);\r\n    };\r\n    ;\r\n    Waveform.prototype.pause = function () {\r\n        this.setPaused();\r\n        console.log(\"is paused is \", this.isPaused());\r\n    };\r\n    ;\r\n    Waveform.prototype.playProgress = function (perct) {\r\n        var iActive;\r\n        if (this.hasStartedPlaying === null) {\r\n            this.hasStartedPlaying = true;\r\n        }\r\n        if (this.isPlaying === false) {\r\n            this.setPlaying(true);\r\n        }\r\n        iActive = Math.round((perct / 100) * this.wavesCollection.length);\r\n        this.active = iActive;\r\n        this.redraw();\r\n    };\r\n    ;\r\n    Waveform.prototype.calcPercent = function () {\r\n        return Math.round(this.clickPercent * this.width / (this.waveWidth + this.gutterWidth));\r\n    };\r\n    ;\r\n    Waveform.prototype.getWaveClicked = function (x) {\r\n        var fReturn, waveClicked;\r\n        waveClicked = Math.round(x / (this.waveWidth + this.gutterWidth));\r\n        fReturn = 0;\r\n        if (waveClicked > this.wavesCollection.length) {\r\n            fReturn = this.wavesCollection.length;\r\n        }\r\n        else if (waveClicked < 0) {\r\n            fReturn = 0;\r\n        }\r\n        else {\r\n            fReturn = waveClicked;\r\n        }\r\n        return fReturn;\r\n    };\r\n    ;\r\n    Waveform.prototype.getMousePosTrackTime = function (x) {\r\n        var fReturn, mousePosTrackTime;\r\n        mousePosTrackTime = this.trackLength / this.wavesCollection.length * this.getWaveClicked(x);\r\n        fReturn = 0;\r\n        if (mousePosTrackTime > this.trackLength) {\r\n            fReturn = this.trackLength;\r\n        }\r\n        else if (mousePosTrackTime < 0) {\r\n            fReturn = 0;\r\n        }\r\n        else {\r\n            fReturn = mousePosTrackTime;\r\n        }\r\n        return fReturn;\r\n    };\r\n    ;\r\n    Waveform.prototype.redraw = function () {\r\n        requestAnimationFrame(this.render.bind(this));\r\n    };\r\n    ;\r\n    Waveform.prototype.render = function () {\r\n        var d, dNext, gutterX, i, j, len, ref, reflectionHeight, results, t, xPos, yPos;\r\n        i = 0;\r\n        ref = this.wavesCollection;\r\n        t = this.width / this.data.length;\r\n        xPos = 0;\r\n        yPos = this.waveOffset;\r\n        this.clear();\r\n        j = 0;\r\n        len = ref.length;\r\n        results = [];\r\n        while (j < len) {\r\n            d = ref[j];\r\n            dNext = ref[j + 1];\r\n            /*\r\n            Draw the wave here\r\n             */\r\n            if (this.selected > 0 && (this.selected <= j && j < this.active) || (this.selected > j && j >= this.active)) {\r\n                this.context.fillStyle = this.colors[this.WAVE_SELECTED];\r\n            }\r\n            else if (this.active > j) {\r\n                this.context.fillStyle = this.colors[this.WAVE_ACTIVE];\r\n            }\r\n            else {\r\n                this.context.fillStyle = this.colors[this.WAVE_FOCUS];\r\n            }\r\n            this.context.fillRect(xPos, yPos, this.waveWidth, d);\r\n            /*\r\n            draw the gutter\r\n             */\r\n            if (this.selected > 0 && (this.selected <= j && j < this.active) || (this.selected > j && j >= this.active)) {\r\n                this.context.fillStyle = this.colors[this.GUTTER_SELECTED];\r\n            }\r\n            else if (this.active > j) {\r\n                this.context.fillStyle = this.colors[this.GUTTER_ACTIVE];\r\n            }\r\n            else {\r\n                this.context.fillStyle = this.colors[this.GUTTER];\r\n            }\r\n            gutterX = Math.max(d, dNext);\r\n            this.context.fillRect(xPos + this.waveWidth, yPos, this.gutterWidth, gutterX);\r\n            /*\r\n             draw the reflection\r\n             */\r\n            if (this.reflection > 0) {\r\n                reflectionHeight = Math.abs(d) / (1 - this.reflection) * this.reflection;\r\n                if (this.active > i) {\r\n                    this.context.fillStyle = this.colors[this.REFLECTION_ACTIVE];\r\n                }\r\n                else {\r\n                    this.context.fillStyle = this.colors[this.REFLECTION];\r\n                }\r\n                this.context.fillRect(xPos, yPos, this.waveWidth, reflectionHeight);\r\n            }\r\n            xPos += this.waveWidth + this.gutterWidth;\r\n            results.push(j++);\r\n        }\r\n        return results;\r\n    };\r\n    ;\r\n    Waveform.prototype.clear = function () {\r\n        this.context.fillStyle = this.outerColor;\r\n        this.context.clearRect(0, 0, this.width, this.height);\r\n        return this.context.fillRect(0, 0, this.width, this.height);\r\n    };\r\n    ;\r\n    /*\r\n     Data related codes\r\n     */\r\n    Waveform.prototype.setData = function (data) {\r\n        return this.data = data;\r\n    };\r\n    ;\r\n    Waveform.prototype.getData = function () {\r\n        return this.data;\r\n    };\r\n    ;\r\n    Waveform.prototype.setDataInterpolated = function (data) {\r\n        return this.setData(this.interpolateArray(data, this.width));\r\n    };\r\n    ;\r\n    Waveform.prototype.setDataCropped = function (data) {\r\n        return this.setData(this.expandArray(data, this.width));\r\n    };\r\n    ;\r\n    Waveform.prototype.linearInterpolate = function (before, after, atPoint) {\r\n        return before + (after - before) * atPoint;\r\n    };\r\n    ;\r\n    Waveform.prototype.expandArray = function (data, limit, defaultValue) {\r\n        if (defaultValue === void 0) { defaultValue = 0; }\r\n        var i, j, newData = [], ref;\r\n        if (defaultValue === null) {\r\n            defaultValue = 0;\r\n        }\r\n        if (data.length > limit) {\r\n            newData = data.slice(data.length - limit, data.length);\r\n        }\r\n        else {\r\n            i = j = 0;\r\n            ref = limit - 1;\r\n            while ((0 <= ref ? j <= ref : j >= ref)) {\r\n                newData[i] = data[i] || defaultValue;\r\n                i = (0 <= ref ? ++j : --j);\r\n            }\r\n        }\r\n        return newData;\r\n    };\r\n    ;\r\n    Waveform.prototype.interpolateArray = function (data, fitCount) {\r\n        var after, atPoint, before, i, newData = [], springFactor, tmp;\r\n        springFactor = (data.length - 1) / (fitCount - 1);\r\n        newData[0] = data[0];\r\n        i = 1;\r\n        while (i < fitCount - 1) {\r\n            tmp = i * springFactor;\r\n            before = Math.floor(tmp);\r\n            after = Math.ceil(tmp);\r\n            atPoint = tmp - before;\r\n            newData[i] = this.linearInterpolate(data[before], data[after], atPoint);\r\n            i++;\r\n        }\r\n        newData[fitCount - 1] = data[data.length - 1];\r\n        return newData;\r\n    };\r\n    ;\r\n    Waveform.prototype.putDataIntoWaveBlock = function () {\r\n        var data, fAbsValue, fAverage, fWavePoint, i, iWaveBlock, iWaveCount, j, key, newDataBlocks, sum;\r\n        iWaveBlock = this.waveWidth + this.gutterWidth;\r\n        data = this.getData();\r\n        newDataBlocks = [];\r\n        iWaveCount = Math.ceil(data.length / iWaveBlock);\r\n        i = 0;\r\n        while (i < iWaveCount) {\r\n            sum = 0;\r\n            j = 0;\r\n            while (j < iWaveBlock) {\r\n                key = (i * iWaveBlock) + j;\r\n                sum += data[key];\r\n                j++;\r\n            }\r\n            fAverage = sum / iWaveBlock;\r\n            fAbsValue = fAverage * this.waveHeight;\r\n            fWavePoint = Math.floor(-Math.abs(fAbsValue));\r\n            newDataBlocks.push(fWavePoint);\r\n            i++;\r\n        }\r\n        return newDataBlocks;\r\n    };\r\n    ;\r\n    Waveform.prototype.cache = function () {\r\n        if (this.interpolate === false) {\r\n            this.setDataCropped(this.data);\r\n        }\r\n        else {\r\n            this.setDataInterpolated(this.data);\r\n        }\r\n        this.wavesCollection = this.putDataIntoWaveBlock();\r\n    };\r\n    ;\r\n    /*\r\n      Data update details here\r\n     */\r\n    Waveform.prototype.update = function (options) {\r\n        if (options) {\r\n            if (options.gutterWidth) {\r\n                this.gutterWidth = options.gutterWidth;\r\n            }\r\n            if (options.waveWidth) {\r\n                this.waveWidth = options.waveWidth;\r\n            }\r\n            if (options.width) {\r\n                this.width = options.width;\r\n                this.canvas.width = this.width;\r\n            }\r\n            if (options.height) {\r\n                this.height = options.height;\r\n                this.canvas.height = this.height;\r\n            }\r\n            if (options.reflection === 0 || options.reflection) {\r\n                this.reflection = options.reflection;\r\n            }\r\n            if (options.interpolate) {\r\n                this.interpolate = options.interpolate;\r\n            }\r\n            /*\r\n              Re-calculate the wave block formations once one of the following is altered\r\n             */\r\n            if (options.gutterWidth || options.waveWidth || options.width || options.height || options.reflection || options.interpolate || options.reflection === 0) {\r\n                this.cache();\r\n            }\r\n            if (options.height || options.reflection || options.reflection === 0) {\r\n                this.updateHeight();\r\n            }\r\n        }\r\n        this.redraw();\r\n    };\r\n    ;\r\n    return Waveform;\r\n}(event_emitter_1.EventEmitter));\r\nexports.Waveform = Waveform;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.widget = void 0;\r\nvar util_1 = require(\"../util\");\r\nvar SoundcloudWidget = require('soundcloud-widget');\r\nvar iframeEle = document.querySelector('#soundcloud-iframe');\r\nvar SCWidget = /** @class */ (function (_super) {\r\n    __extends(SCWidget, _super);\r\n    function SCWidget(iframeEle) {\r\n        var _this = _super.call(this) || this;\r\n        _this.instance = new SoundcloudWidget(iframeEle);\r\n        _this.init();\r\n        return _this;\r\n    }\r\n    SCWidget.prototype.init = function () {\r\n        var _this = this;\r\n        this.instance.on(SoundcloudWidget.events.PLAY, function () {\r\n            _this.trigger('play');\r\n        });\r\n        this.instance.on(SoundcloudWidget.events.PLAY_PROGRESS, function (ev) {\r\n            var progressPercent = ev.relativePosition * 100;\r\n            _this.trigger('play-progress', [progressPercent]);\r\n        });\r\n        this.instance.on(SoundcloudWidget.events.PAUSE, function () {\r\n            _this.trigger('pause');\r\n        });\r\n        this.instance.on(SoundcloudWidget.events.SEEK, function (ev) {\r\n            _this.trigger('seek');\r\n        });\r\n    };\r\n    SCWidget.prototype.play = function () {\r\n        this.instance.play();\r\n    };\r\n    SCWidget.prototype.pause = function () {\r\n        this.instance.pause();\r\n    };\r\n    SCWidget.prototype.toggle = function () {\r\n        this.instance.toggle();\r\n    };\r\n    SCWidget.prototype.seek = function (millisecond) {\r\n        this.instance.seekTo(millisecond);\r\n    };\r\n    SCWidget.prototype.load = function (url) {\r\n        var _this = this;\r\n        return this.instance.load(url, { auto_play: true }).then(function () {\r\n            _this.instance.getCurrentSound().then(function (soundObject) {\r\n                _this.trigger('load', [soundObject]);\r\n            });\r\n        });\r\n    };\r\n    return SCWidget;\r\n}(util_1.EventEmitter));\r\nexports.widget = new SCWidget(iframeEle);\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwebpack_playground\"] = self[\"webpackChunkwebpack_playground\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [736], () => (__webpack_require__(7310)))\n__webpack_require__.O(undefined, [736], () => (__webpack_require__(2367)))\n__webpack_require__.O(undefined, [736], () => (__webpack_require__(142)))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [736], () => (__webpack_require__(1163)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}